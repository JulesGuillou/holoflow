name: C++ CI with Bazel

on: [push, pull_request]

jobs:
    build:
        runs-on: self-hosted
        steps:
        - uses: actions/checkout@v3
          with:
           submodules: recursive
        - name: Build
          run: bazel build //...
        - name: Test
          run: bazel test //...
